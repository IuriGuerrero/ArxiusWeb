<style>
model-viewer {
  width: 100%;
  height: 100%;
}
</style>

<!-- Import the component -->
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

<script>
  async function exportScene(binary){
    let options = {
      binary: binary,
      trs: true,
      onlyVisible: true,
      maxTextureSize: 256,
      forcePowerOfTwoTextures: true,
      includeCustomExtensions: false,
      embedImages: true
    };
    let modelViewer = document.getElementById("animated-model");
    const glTF = await modelViewer.exportScene(options);
    var file = new File([glTF], binary ? "GLBS/CaixaPrincipal.glb" : "export.gltf");
    var link = document.createElement("a");
    link.download =file.name;
    link.href = URL.createObjectURL(file);
    link.click();
  }
</script>

<!-- Use it like any other HTML element -->
<model-viewer src="GLBS/CaixaPrincipal.glb" alt="A 3D model of an astronaut" ar ar-modes="webxr scene-viewer quick-look" environment-image="neutral" auto-rotate camera-controls>
  <button onclick="exportScene(true)">Guardar arxiu GLB</button>
</model-viewer>
